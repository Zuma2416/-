# ⚡ クイックスタートガイド

レシート自動入力ツールをすぐに使い始めるための手順です。

## 📋 前提条件

- Python 3.9以上がインストール済み
- OpenAI APIキーを取得済み（[platform.openai.com](https://platform.openai.com/)）

## 🚀 5分でスタート

### 1. リポジトリをクローン

```bash
git clone <your-repo-url>
cd receipt-automation
```

### 2. 依存パッケージをインストール

```bash
pip install -r requirements.txt
```

### 3. APIキーを設定

```bash
# .envファイルを作成
cp .env.example .env

# エディタで開いてAPIキーを設定
nano .env
# または
open .env
```

`.env`ファイルの中身：
```
OPENAI_API_KEY=sk-proj-your-actual-api-key-here
```

### 4. セットアップを確認

```bash
python setup_check.py
```

すべて ✅ になっていればOK！

### 5. アプリを起動

**方法A: シェルスクリプト（推奨）**
```bash
./start.sh
```

**方法B: 直接実行**
```bash
streamlit run app.py
```

ブラウザで自動的に `http://localhost:8501` が開きます。

## 📸 使い方

### 基本的な流れ

1. **レシート画像を準備**
   - スマホで撮影
   - JPGまたはPNG形式
   - 最大10MB

2. **アップロード**
   - 「レシート登録」タブを開く
   - 画像をドラッグ＆ドロップまたは選択

3. **情報抽出**
   - 「レシート情報を抽出」ボタンをクリック
   - 数秒で日付・店名・金額が自動抽出されます

4. **確認・編集**
   - 抽出結果を確認
   - 必要に応じて手動で修正

5. **Excelに登録**
   - 「Excelに登録」ボタンで確定
   - `立替経費精算書_YYYYMM.xlsx` に自動追記されます

6. **登録データを確認**
   - 「登録済みデータ」タブで一覧表示
   - 合計金額もリアルタイム表示

## 🧪 テスト用サンプル

このリポジトリには実際のレシート画像が含まれています：

```
receipt_sample_20251203.png
```

このファイルを使ってすぐに動作確認できます！

## 💡 Tips

### レシートの撮影コツ
- 明るい場所で撮影
- レシート全体が写るように
- 影が入らないように
- 少し斜めでもOK（AIが補正）

### 精度を上げるには
- 鮮明な画像を使用
- 折れ目やシワを伸ばす
- 背景は白または無地

### よくある質問

**Q: APIキーの料金は？**
A: 画像1枚あたり約$0.01〜0.03です。月20-30件なら$0.3〜0.9程度です。

**Q: オフラインで使える？**
A: OCR処理にはOpenAI APIへの接続が必要です。抽出後のExcel操作はオフラインでも可能です。

**Q: 手書きレシートは？**
A: 印刷レシート推奨。手書きは60-80%の精度です。

**Q: クレジットカード明細は？**
A: PDFまたはスクリーンショットから抽出可能です。

## 🆘 トラブルシューティング

### エラー: "OPENAI_API_KEY not found"
→ `.env`ファイルが正しく設定されているか確認

### エラー: "Connection error"
→ インターネット接続を確認

### エラー: "Authentication failed"
→ APIキーが有効か、課金設定がされているか確認

### 画像が認識されない
→ 画像が鮮明か、対応形式（JPG/PNG）か確認

## 📞 サポート

問題が解決しない場合は、Issueを作成してください。

---

**準備完了！早速使ってみましょう 🚀**
